Термин *"выборочное распределение"* статистической величины обозначает распределение некоторой выборочной статистики над многочисленными выборкми, извлекаемыми из одной и той же популяции.

**Ключевые термины выборочного распределения статистической величины:**

* **Выборочная статистика (sample statistic)** - метрика, которая вычисляется для выборки данных, извлекаемой из более крупной популяции.
* **Распределение данных (data distribution)** - частотное распределение индивидуальных значений в наборе данных.
* **Выборочное распределение (sampling distribution)** - частотное распределение *выборочной статистики* над многочисленными выборками или повторными выборками.
* **Центральная предельная теорема (central limit theorem)** - тенденция выборочного распределения принимать нормальную форму по мере увеличения размера выборок.
* **Стандартная ошибка (standart error)** - [вариабельность](Практическая%20статистика/Разведывательный%20анализ/Оценки%20вариабельности) (стандартное отклонение) выборочной статистики над многочисленными выборками (не путать со стандартным отклонением, которое как таковое относится к вариабельности индивидуальных значений данных).

### Центральная предельная теорема

Средние значения, извлеченные из многочисленных выборок, будут напоминать колоколообразную нормальную кривую, даже если исходная популяция является нормально распределенной, при условии, что размер выборок достаточно крупный и отступление данных от нормальности не слишком большое.

<img src="https://i.imgur.com/PQVhlSS.png">

Центральная предельная теорема позволяет использовать нормально-аппроксимационные формулы, такие как $i$-распределение, применяемые в вычислении распределений выборок для статистического вывода, а именно доверительные интервалы и проверки гипотез.

### Стандартная ошибка

*Стандартная ошибка* - это одиночная метрика, которая обобщается вариабельность статистической величины в выборочном распределении. Стандартную ошибку можно оценить с использованием статистической величины, опираясь на стандартное отклонение $s$ значений выборнки и размер выборки $n$:
$$стандартная~ошибка = \frac{s}{\sqrt{n}}$$
где $s$:
$$s = \sqrt\frac{\sum(x - \bar x)^2}{n-1}$$
По мере увеличения размера выборки стандартная ошибка уменьшается. Связь между стандартной ошибкой и размером выборки иногда носит название *правила квадратного корная из $n$*: для сокращения стандартной ошибки в 2 раза, размер выборки должен быть увеличен в 4 раза.

### Бутстрап

Один из простых и эффективных способов оценивания выборочного распределения статистичекой величины или модельных параметров состоит в том, чтобы извлекать дополнительные выборки с возвратом из самой выборки. Данная процедура называется *бутстрапом*, и она не сопряжена с какими-либо допущениями о том, что данные или выборочная статистика нормально распределены.

**Ключевые термины для бутстрапа:**

* **Бутстраповская выборка (bootstrap sample)** - выборка, взятая с возвратом из набора наблюдаемых данных.
* **Повторный отбор (resampling)** - процесс многократного взятия выборок из наблюдаемых данных; включает процедуры бутстрапа и перестановки (пермутации).

Бутстрап можно представить как репликацию исходной выборки тысячи или миллионы раз с тем, чтобы получить гипотетическую популяцию, которая воплощает всё знание, исходя из оригинальной выборки. Затем из этой гипотетической популяции можно извлекать выборки в целях оценивания выборочного распределения.

<img src="https://i.imgur.com/J7FvDB3.png">

Алгоритм бустраповского повторного отбора среднего значения для выборки размера $n$ будет следующим:

1. Извлечь выборочное значение, записать его и вернуть назад.
2. Повторить $n$ раз.
3. Записать среднее значение для $n$ повторно отобранных значений.
4. Повторить $R$ раз шаги 1-3.
5. Использовать $R$ результатов, чтобы:
	* вычислить их стандартное отклонение (оно оценивает стандартную ошибку выборочного среднего).
	* построить гистограмму или коробчатую диаграмму.
	* найти доверительный интервал.

### Повторный отбор против бутстрапирования

Иногда термин *"повторный отбор"* используется в качестве синонима для термина *"бутстрапирование"*. Чаще всего термин "*повторный отбор*" также включает процедуры перестановки/пермутации, где многочисленные выборки объединяются и отбор может осуществляться без возврата. В любом случае термин "*бутстрап*" всегда подразумевает выборку из наблюдаемого набора данных с возвратом.

**Ключевые идеи для бутстрапа:**

* Бутстрап является мощным инструментом для определения вариабельности выборочной статистики.
* Бутстрап может применяться одинаковым образом в самых различных обстоятельствах без обширного анализа математических аппроксимаций выборочных распределений
* Этот метод также позволяет выполнять оценку выборочных распределений для статистик, где математическая аппроксимация не разработана.
* Когда этот метод применяется к предсказательным моделям, агрегирование многочисленных бутстраповских предсказаний превосходит по результативности одиночную модель.

### Доверительные интервалы

Частотные таблицы, гистограммы, коробчатые диаграммы и стандартные ошибки - все они являются способами понять потенциальную ошибку в оценке выборки. Доверительные интервалы - это еще один такой способ.

**Ключевые термины для доверительных интвервалов:**

* **Уровень доверия (confidence level)** - процент доверительных интервалов, сконструированных одинаковым образом из одной и той же популяции, которые ожидаемо будут содержать целевую статистику.
* **Конечные точки интервала (interval endpoints)** - верх и низ доверительного интервала.

С учетом выборки размера $n$ и целевой выборочной статистики, алгоритм для бутстраповского доверительного интервала будет следующим:

1. Извлечь из данных случайную выборку размера $n$ с возвратом.
2. Записать целевую статистику для повторной выборки.
3. Повторить шаги 1-2 $R$ раз.
4. Для $x\%$-ного доверительного интервала отсечь $[(1-[x/100])/2]\%$ от $R$ результатов повторного отбора с обоих концов распределения.
5. В качестве точек отсечения принять конечные точки $x\%$-ного бутстраповского доверительного интервала