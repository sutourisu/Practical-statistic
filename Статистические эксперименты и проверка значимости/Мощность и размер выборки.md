Если вы выполняете веб-тест, то каким образом вы решаете, сколько времени он должен выполняться? Все зависит главным образом от частоты, с которой достигается желаемая цель.

**Ключевые термины для мощности и размера выборки:**

* **Размер эффекта (effect size)** - минимальный рзмер эффекта, который вы надеетесь обнаружить в результате статистической проверки, такой как "20%-ный рост интенсивностей нажатий".
* **Мощность (power)** - Вероятность обнаружить данный размер эффекта при данном размере выборки.
* **Уровень значимости (significance level)** - уровень статистической значимости, при котором будет проводиться проверка.

Пример *мощности* - мы можем сказать, что вероятность провести различие между 0,330-м бьющим игроков в бейсболе и 0,200-м бьющим игроком при 25 подходах к бите составляет 0,75. Размер эффекта здесь - это разница 0,130. И "обнаружение" означает, что проверка гипотезы отклонит нулевую гипотезу "нет разницы" и зключит, что существует реальный эффект. Так, эксперимент с 25 подходами к бите (n = 25) для двух бьющим игроков с размером эффекта 0,130 имеет мощность 0,75.

### Размер выборки

Наиболее часто встречающееся применением расчетов мощности состоит в оценвании необходимой вам величины выборки.

Например, предположим, что вы смотрите на кликабельности и тестируете новое объявление против существующего объявления. Сколько нажатий необходимо накопить в исследовании? Если вы заинтересованы только в тех рельзультатах, которые показывают огромную разницу, то может сработать относительно малая выборка. Если же, с другой стороны, интерес представляет даже незначительная раница, то потребуется намного более крупная выборкка. Стандартный подход состоит в принятии политики, что новое объявление должно работать лучше, чем существующее объявление на некоторый процент, скажем на 10%; в противном случе существующее объявление останется на месте. Эта цель, "размер эффекта", в дальнейшем управляет размером выборки.

Например, текущие кликабельности составляют примерно 1,1%, и вы стремитесь к 10%-ному росту до 1,21%. Поэтому у нас будет две коробки: корока А с 1,1% единицами (скажем, с 110 единицами и 98960 нулями) и коробка B с 1,21% единицами (скажем, с 121 единицей и 9879 нулями). Для начала давайте попробуем сделать 300 извлечений из каждой коробки (это будет соответствовать  300 "показам" от каждого объявления). Допустим, что наше первое извлеение приводит к следующим результатам:

* коробка A: 3 единицы;
* коробка B: 5 единиц;

Мы сразу же видим, что любая проверка гипотезы показала бы, что эта разница находится далеко внутри диапазона случайной вариации. Данное сочетание размера выборки (n = 300) и размера эффекта (10%-ная разница) является слишком малым для того, чтобы любая проверкаа гипотезы могла надежно показать разницу.

Поэтому мы можем попытаться увеличить размер выборки (n = 2000) и предусмотрим более крупный рост (30% вместо 10%).

Например предположим, что текущие кликабельности 1,1%, но теперь мы претендуем на 50%-ный рост до 1,65%. Таким обраазом, у нас есть две коробки A (110: 1; 9890: 0) и B (165: 1; 9868: 0). Теперь мы попробуем сделать 2000 извлечений:

* коробка А: 19 единиц;
* коробка B: 34 единицы;

Проверкаа значимости на этой разнице показывает, что она по прежнему регистрируется как "незначимая". Для того чтобы рассчитать мощность, нам потребуется повторить предыдущую процедуру много раз, либо использовать вычислительную систему (ЯП). Детектирование даже 50%-ного улучшения потребует нескольких тысяч показов.

Резюмируя, для вычисления мощности или требуемого размера выборки, существует четыре подвижных элемента:

* размер выборкиж
* размер эффекта, который вы хотите обнаружить;
* уровень значимости (альфа), при котором будет проводиться тест;
* мощность;

Указав любые три из них, четвертый может быть вычислен.

**Ключевые идеи для мощности и размера выборки:**

* Выяснение того, насколько большой размер выборки вам нужен, требует задуматься о перспективе статистической проверки, которую вы планируете провести.
* Вы должны определить минимальный размер эффекта, который хотите обнаружить.
* Вы также должны определить требемую вероятность обнаружить этот размер эффекта (мощность).
* Наконец, вы должны указать уровень значимости (альфа), при котором будет проводиться проверка.